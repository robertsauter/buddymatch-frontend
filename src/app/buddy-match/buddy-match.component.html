<div *ngIf="users.length > 0" class="main-container flex flex-col h-screen pt-24">
  <div class="card items-start text-left bg-base-200 shadow-xl flex-1 overflow-y-auto">
    <button
      (click)="filtersModal.showModal()"
      class="btn btn-square btn-accent absolute top-0 right-0"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"
        />
      </svg>
    </button>
    <div class="flex-1 card-body pb-0">
      <div>
        <div class="avatar placeholder">
          <div class="bg-neutral-focus text-neutral-content rounded-full w-12">
              <span class="text-2xl">{{ currentUser?.detail?.first_name || '' | firstLetter }}</span>
          </div>
        </div>
        <h2 class="text-3xl sm:text-4xl font-bold">
          {{ currentUser?.detail?.first_name }}
          {{ currentUser?.detail?.second_name }}
        </h2>
        <span class="flex items-center sm:text-lg">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6 mr-1"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z"
            />
          </svg>
          {{ currentUser?.detail?.desc_short }}
        </span>
        <span class="flex items-center sm:text-lg">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6 mr-1"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"
            />
          </svg>
          {{ currentUser?.detail?.study_program }}
        </span>
      </div>

      <h3 class="font-bold sm:text-lg">Courses</h3>
      <div class="flex flex-wrap gap-1">
        <div
          *ngFor="let course of currentUser?.detail?.attended_courses"
          class="badge badge-neutral h-auto sm:text-base"
        >
          {{ course }}
        </div>
      </div>

      <h3 class="font-bold sm:text-lg">Skills</h3>
      <div class="flex flex-wrap gap-1">
        <div
          *ngFor="let skill of currentUser?.detail?.skills"
          class="badge badge-neutral h-auto sm:text-base"
        >
          {{ skill }}
        </div>
      </div>
    </div>
    <div class="card-body pt-0 flex-none w-full">
      <div class="divider my-2"></div>
      <a [routerLink]="['detail', currentUser?._id]" class="btn btn-primary sm:text-base">See more</a>
    </div>
  </div>
  <div class="flex items-center justify-around py-4">
    <button type="button" class="btn btn-circle btn-error" (click)="nextUser()">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="w-8 h-8 text-base-100"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    </button>
    <button
      type="button"
      class="btn btn-circle btn-success"
      (click)="match()"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="w-8 h-8 text-base-100"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M4.5 12.75l6 6 9-13.5"
        />
      </svg>
    </button>
  </div>
</div>
<div *ngIf="users.length === 0" class="main-container flex flex-col items-center pt-24">
  <div class="mb-4">We couldn't find any users, that match your criteria. Please select other filter options.</div>
  <button
      (click)="filtersModal.showModal()"
      class="btn btn-accent mx-auto"
    >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="2"
      stroke="currentColor"
      class="w-6 h-6"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 01-.659 1.591l-5.432 5.432a2.25 2.25 0 00-.659 1.591v2.927a2.25 2.25 0 01-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 00-.659-1.591L3.659 7.409A2.25 2.25 0 013 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0112 3z"
      />
    </svg>
    <span>Open filters</span>
  </button>
</div>
<dialog class="modal" #filtersModal>
  <form method="dialog" class="modal-box pt-16">
    <button class="btn btn-square btn-ghost absolute top-0 right-0">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="2"
        stroke="currentColor"
        class="w-6 h-6"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    </button>
    <app-filters-modal (filtersSaved)="loadUsers({ filters: $event })"></app-filters-modal>
  </form>
</dialog>
<div *ngIf="successMessageShown" class="toast toast-top toast-end mt-20">
  <div class="alert alert-success">
      <span>Request to connect sent!</span>
  </div>
</div>
<div *ngIf="noMoreUsersMessageShown" class="toast toast-top toast-end mt-20">
  <div class="alert alert-info">
      <span>You have seen all users!</span>
  </div>
</div>